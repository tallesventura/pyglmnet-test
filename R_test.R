library(glmnet)
library(matlab)


df = read.table("/Users/talles/Documents/Summer project/test/pyglmnet-test/community_crime.csv",header = TRUE, sep = ",", dec = ".")

x= df[1:nrow(df),0:99]
y = df[100]
y = array(unlist(y))

fit = glmnet(x,y,family="poisson", alpha=0.05, lambda = c(2.        ,  1.89577708,  1.79698537,  1.70334184,  1.61457821,+
                                                          1.53044018,  1.45068671,  1.37508931,  1.3034314 ,  1.23550768,
                                                          1.17112357,  1.11009462,  1.05224596,  0.99741189,  0.9454353 ,
                                                          0.89616729,  0.8494667 ,  0.80519975,  0.76323962,  0.72346609,
                                                          0.68576521,  0.65002899,  0.61615503,  0.58404629,  0.55361079,
                                                          0.52476132,  0.49741524,  0.47149421,  0.44692395,  0.4236341 ,
                                                          0.4015579 ,  0.38063214,  0.36079684,  0.34199519,  0.32417332,
                                                          0.30728018,  0.29126736,  0.27608899,  0.26170159,  0.24806394,
                                                          0.23513696,  0.22288363,  0.21126884,  0.20025931,  0.18982351,
                                                          0.17993153,  0.17055503,  0.16166716,  0.15324245,  0.14525676,
                                                          0.13768722,  0.13051214,  0.12371096,  0.1172642 ,  0.11115339,
                                                          0.10536103,  0.09987051,  0.09466611,  0.08973292,  0.08505681,
                                                          0.08062438,  0.07642292,  0.07244041,  0.06866544,  0.06508718,
                                                          0.06169539,  0.05848035,  0.05543286,  0.05254417,  0.04980602,
                                                          0.04721055,  0.04475034,  0.04241834,  0.04020786,  0.03811257,
                                                          0.03612646,  0.03424386,  0.03245936,  0.03076786,  0.0291645 ,
                                                          0.0276447 ,  0.02620409,  0.02483856,  0.02354418,  0.02231726,
                                                          0.02115428,  0.0200519 ,  0.01900696,  0.01801648,  0.01707762,
                                                          0.01618768,  0.01534411,  0.01454451,  0.01378657,  0.01306814,
                                                          0.01238714,  0.01174162,  0.01112975,  0.01054976,  0.01))

pfit = predict(fit,newx=x,s=fit$lambda[100],type="link")
pfit = array(pfit)

r2 = cor(y,pfit)^2
predict(fit,newx=x[0:100,],s=fit$lambda[100])